@model PracticaU2.Models.ViewModels.DiosesViewModel
@{
	Layout = "Layout";
}
<main>
	<section class="dioses-codice">
		<h2>Panteón de Dioses</h2>

		<div class="civilizacion-links">
			<p>Selecciona una civilización para explorar sus deidades:</p>
			<div class="links-container">
				@foreach (var civ in Model.NombreCivilizaciones)
				{
					if(civ != Model.CivilizacionSeleccionada)
					{
						<a href="~/Home/Dioses/@civ" class="civilizacion-link">@civ</a>
					}
					else
					{
						<a href="~/Home/Dioses/@civ" class="civilizacion-link active">@civ</a>
					}
				}
			</div>
		</div>

		<div class="decorative-border"></div>

		<div class="dioses-gallery">

				@foreach(var dios in Model.Dioses)
				{
					<div class="dios-item" data-dios-id="@dios.Id">
						<div class="dios-mini">
							<img src="~/imagenes/@(dios.Nombre)_estatua.png" alt="@dios.Nombre">
							<span>@dios.NombreLocal</span>
						</div>
					</div>
				}
		</div>

		<div class="detalles-container">

			<div class="ningun-dios">
				<p>Selecciona una civilización y haz clic en un dios para ver sus detalles</p>
			</div>

			@foreach(var dios in Model.Dioses)
			{
				<div class="dios-detalles" data-dios-id="@dios.Id">
					<div class="detalles-superior">
						<img src="~/imagenes/@(dios.Nombre).png" alt="@dios.Nombre" class="dios-imagen-grande">
						<div class="dios-info">
							<h3>@dios.NombreLocal</h3>
							<p><strong>Civilización:</strong> @dios.NombreCivilizacion</p>
							<p><strong>Género:</strong> @dios.Genero</p>
							<p><strong>Dominio:</strong> @dios.Dominio</p>
						</div>
					</div>
					<div class="detalles-inferior">
						<div class="dios-descripcion">
							<p>@dios.Descripcion</p>
						</div>
					</div>
				</div>
			}

		</div>

		<div class="decorative-border"></div>
	</section>
</main>

<script>
	document.addEventListener('DOMContentLoaded', function () {
		const detallesContainer = document.querySelector('.detalles-container');
		const diosesGallery = document.querySelector('.dioses-gallery');
		const ningunDios = document.querySelector('.ningun-dios');
		const detallesDioses = document.querySelectorAll('.dios-detalles');

		function inicializarDetalles() {
			detallesDioses.forEach(detalle => {
				detalle.style.display = 'none';
			});
			ningunDios.style.display = 'block';
		}

		inicializarDetalles();

		diosesGallery.addEventListener('click', function (e) {
			const diosItem = e.target.closest('.dios-item');

			if (diosItem) {
				const diosId = diosItem.getAttribute('data-dios-id');

				detallesDioses.forEach(detalle => {
					detalle.style.display = 'none';
				});
				ningunDios.style.display = 'none';

				const detalles = document.querySelector(`.dios-detalles[data-dios-id="${diosId}"]`);
				if (detalles) {
					detalles.style.display = 'block';
				}
			}
		});


	});
</script>